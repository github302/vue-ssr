{"version":3,"file":"app.bc2ee12c7446ae6768df.js","sources":["webpack:///Home.vue","webpack:///About.vue","webpack:///src/entry-client.js","webpack:///src/app.js","webpack:///src/store/index.js","webpack:///src/router/index.js","webpack:///./src/pages/Home.vue","webpack:///./src/pages/Home.vue?cc96","webpack:///./src/pages/About.vue","webpack:///src/common/utils.js","webpack:///./src/pages/Default.vue","webpack:///./src/pages/Default.vue?499a","webpack:///./src/pages/About.vue?8b1f","webpack:///./src/App.vue","webpack:///./src/App.vue?d8d9"],"sourcesContent":["<template>\n    <div>\n        <p>Home Page</p>\n        <p>The Visited URL is {{ url }}</p>\n        <p>\n            <button @click=\"sayHello\">hello</button>\n        </p>\n        <router-link to=\"/about\">About Page</router-link>\n    </div>\n</template>\n<script>\nexport default {\n    preFetch({ store, route}){\n        console.log(\"Home preFetch\");\n    },\n    data() {\n        return {\n            url: this.$route.path,\n        }\n    },\n    methods: {\n        sayHello() {\n            window.alert('Hello')\n        }\n    },\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// Home.vue","<template>\n    <div>\n        <p>About page</p>\n        <p>Counter: {{ counter }}</p>\n        <p><button @click=\"$store.commit('INCREMENT')\">+</button></p>\n        <goods-detail />\n        <router-link to=\"/\">Home page</router-link>\n    </div>\n</template>\n<script>\nimport { loadScript } from '../common/utils';\nimport DefaultComp from './Default.vue';\n\nexport default {\n    preFetch({ store, route }) {\n        store.commit('INCREMENT');\n        console.log('about preFetch');\n    },\n    components: {\n       'goods-detail': (resolve) => {\n           console.log(\"goods-detail\", process.BROWSER);\n           if (typeof window !== 'undefined') {\n               if (window.isvScript) {\n                    console.log(\"window.isvScript \", window.isvScript);\n                    loadScript(window.isvScript).then(() => {\n                        resolve(window.mallCloud.components.goodsDetail__v2shuai);\n                    });\n               } else {\n                   resolve(DefaultComp);\n               }\n               \n           } else {\n               resolve({\n                   render: h => h('div')\n               });\n           }\n        }\n    },\n    data() {\n        return {\n            msg: '',\n            components: DefaultComp,\n        }\n    },\n    computed: {\n        counter(st) {\n            return this.$store.state.counter;\n        },\n    },\n    beforeCreate(){\n        console.log(\"About beforeCreate\");\n    },\n    created(){\n        console.log(\"About created\");\n    },\n    \n    mounted() {\n        console.log(\"About mount\");\n    }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// About.vue","import { createApp } from './app';\n\nconst { app, store, router} = createApp();\nif (window.__INITIAL_STATE__) {\n    store.replaceState(window.__INITIAL_STATE__);\n}\nrouter.beforeEach((to, from ,next) => {\n    console.log(\"client beforeEach\", to.path);\n    const matchedComponents = router.getMatchedComponents(to);\n    Promise.all(matchedComponents.map((component) => {\n        if (component.preFetch) {\n            return component.preFetch({\n                store,\n                route: to.currentRoute,\n            })\n        }\n    })).then(() => {\n        next();\n    }).catch((e) => {\n        next();\n    })\n});\n\nrouter.afterEach((route, from) => {\n    console.log('client afterEach ', route.path);\n})\napp.$mount(\"#app\");\n\n\n// WEBPACK FOOTER //\n// src/entry-client.js","import Vue from 'vue';\nimport { createStore } from './store';\nimport { createRouter } from './router';\nimport App from './App.vue';\n\nexport function createApp() {\n    const store = createStore();\n    const router = createRouter();\n\n    const app = new Vue({\n        store, \n        router,\n        render: h => h(App)\n    });\n\n    return { app, store, router };\n}\n\n\n// WEBPACK FOOTER //\n// src/app.js","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport function createStore() {\n    return new Vuex.Store({\n        state: {\n            counter: 0,\n        },\n        mutations: {\n            INCREMENT(state) {\n                state.counter++\n            }\n        }\n    })\n}\n\n\n// WEBPACK FOOTER //\n// src/store/index.js","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from '../pages/Home.vue';\nimport About from '../pages/About.vue';\n\nVue.use(Router);\n\nexport function createRouter() {\n    const router = new Router({\n        mode: 'history',\n        routes: [\n            { path: '/', component: Home },\n            { path: '/about', component: About }, \n        ]\n    })\n    return router;\n}\n\n\n// WEBPACK FOOTER //\n// src/router/index.js","var disposed = false\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a90ec03\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/Home.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5a90ec03\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5a90ec03\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home.vue\n// module id = 14\n// module chunks = 0","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"p\", [_vm._v(\"Home Page\")]),\n      _c(\"p\", [_vm._v(\"The Visited URL is \" + _vm._s(_vm.url))]),\n      _c(\"p\", [\n        _c(\"button\", { on: { click: _vm.sayHello } }, [_vm._v(\"hello\")])\n      ]),\n      _c(\"router-link\", { attrs: { to: \"/about\" } }, [_vm._v(\"About Page\")])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-5a90ec03\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a90ec03\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home.vue\n// module id = 15\n// module chunks = 0","var disposed = false\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c11fd19\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./About.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/About.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2c11fd19\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-2c11fd19\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/About.vue\n// module id = 16\n// module chunks = 0","// 一个简单的事件订阅发布的实现，取代原生Event对象，提升IE下的兼容性\nexport function LoadEvent () {\n    this.listeners = {};\n    this.on = function (eventName, callback) {\n      if (this.listeners[eventName] === undefined) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push(callback);\n    };\n    this.emit = function (eventName) {\n      this.listeners[eventName] && this.listeners[eventName].forEach(callback => callback());\n    };\n}\n\nexport function loadScript(scriptSrc) {\n  return new Promise((resolve) => {\n      const script = document.createElement('script');\n      script.onload = script.onreadystatechange = function() {\n          if (!this.readyState || this.readyState === \"loaded\" || this.readyState === \"complete\" ) {\n              console.log(\"client script 加载完成\");\n              resolve();\n              script.onload = script.onreadystatechange = null;\n          }\n      };\n      script.setAttribute('src', scriptSrc);\n      document.body.appendChild(script);\n  })\n}\n\n\n// WEBPACK FOOTER //\n// src/common/utils.js","var disposed = false\n/* script */\nvar __vue_script__ = null\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5588a8cd\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Default.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/Default.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5588a8cd\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5588a8cd\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Default.vue\n// module id = 18\n// module chunks = 0","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [_vm._v(\"default vue Component!\")])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-5588a8cd\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5588a8cd\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Default.vue\n// module id = 19\n// module chunks = 0","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"p\", [_vm._v(\"About page\")]),\n      _c(\"p\", [_vm._v(\"Counter: \" + _vm._s(_vm.counter))]),\n      _c(\"p\", [\n        _c(\n          \"button\",\n          {\n            on: {\n              click: function($event) {\n                return _vm.$store.commit(\"INCREMENT\")\n              }\n            }\n          },\n          [_vm._v(\"+\")]\n        )\n      ]),\n      _c(\"goods-detail\"),\n      _c(\"router-link\", { attrs: { to: \"/\" } }, [_vm._v(\"Home page\")])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-2c11fd19\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c11fd19\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/About.vue\n// module id = 20\n// module chunks = 0","var disposed = false\n/* script */\nvar __vue_script__ = null\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/App.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7ba5bd90\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7ba5bd90\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 21\n// module chunks = 0","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"app\" } }, [_c(\"router-view\")], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-7ba5bd90\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ba5bd90\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 22\n// module chunks = 0"],"mappings":";;;;;;;;;;;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAHA;AATA;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AAlBA;AAoBA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;;;;;;;;ACbA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAJA;AAUA;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAOA;AACA;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1CA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1CA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACdA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A","sourceRoot":""}